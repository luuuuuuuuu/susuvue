(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-52e6","chunk-5aff","chunk-c26c"],{IaHB:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},IiO0:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},LxGK:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return r});var o=e("t3Un");function a(){return Object(o.a)({url:"/vue/api/email",method:"get"})}function i(t){return Object(o.a)({url:"/vue/api/email",data:t,method:"put"})}function r(t){return Object(o.a)({url:"/vue/api/email",data:t,method:"post"})}},UsiR:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,".my-blockquote {\n  margin: 0px 0px 10px;\n  padding: 15px;\n  line-height: 22px;\n  border-left: 5px solid #00437B;\n  border-radius: 0 2px 2px 0;\n  background-color: #f2f2f2; }\n\n.my-code {\n  position: relative;\n  padding: 15px;\n  line-height: 20px;\n  border-left: 5px solid #ddd;\n  color: #333;\n  font-family: Courier New;\n  font-size: 12px; }\n",""])},V3JU:function(t,n,e){"use strict";e.r(n);var o=e("leE3"),a=e("gVYw"),i=(e("zkOn"),{components:{Config:o.default,Send:a.default},data:function(){return{activeName:"second"}}}),r=(e("YCwM"),e("KHd+")),s=Object(r.a)(i,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-tabs",{staticStyle:{"padding-left":"5px"},model:{value:t.activeName,callback:function(n){t.activeName=n},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"邮箱配置",name:"first"}},[e("Config")],1),t._v(" "),e("el-tab-pane",{attrs:{label:"发送邮件",name:"second"}},[e("Send")],1),t._v(" "),e("el-tab-pane",{attrs:{label:"使用说明",name:"third"}},[e("div",[e("blockquote",{staticClass:"my-blockquote"},[t._v(" 邮件服务器配置")]),t._v(" "),e("pre",{staticClass:"my-code"},[t._v("# 邮件服务器的SMTP地址，可选，默认为smtp\n# 邮件服务器的SMTP端口，可选，默认465或者25\n# 发件人（必须正确，否则发送失败）\n# 用户名，默认为发件人邮箱前缀\n# 密码（注意，某些邮箱需要为SMTP服务单独设置密码，如QQ和163等等）\n# 是否开启ssl，默认开启")]),t._v(" "),e("blockquote",{staticClass:"my-blockquote"},[t._v("更多帮助")]),t._v(" "),e("pre",{staticClass:"my-code"},[t._v("更多帮助请查看文档："),e("a",{staticStyle:{color:"#009688"},attrs:{href:"http://hutool.mydoc.io/#text_319499",target:"_black"}},[t._v("hutool工具包")])])])])],1)},[],!1,null,"0bf23513",null);s.options.__file="index.vue";n.default=s.exports},Vc39:function(t,n,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n.editor[data-v-cb03c2c0]{\n  text-align:left;\n  margin: 20px;\n}\n",""])},YCwM:function(t,n,e){"use strict";var o=e("mA49");e.n(o).a},Yfch:function(t,n,e){"use strict";function o(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(t)}e.d(n,"a",function(){return o})},dKb8:function(t,n,e){var o=e("IaHB");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e("SZ7m").default)("7f67d123",o,!0,{})},gVYw:function(t,n,e){"use strict";e.r(n);var o=e("QbLZ"),a=e.n(o),i=e("L2JU"),r=e("X4fA"),s=e("LxGK"),l=e("Yfch"),c=e("GguQ"),u=e.n(c),f={name:"Index",data:function(){return{headers:{Authorization:"Bearer "+Object(r.a)()},loading:!1,form:{subject:"",tos:[],content:""},tos:[{value:""}],rules:{subject:[{required:!0,message:"标题不能为空",trigger:"blur"}]}}},computed:a()({},Object(i.b)(["imagesUploadApi","qiNiuUploadApi"])),mounted:function(){var t=this,n=new u.a(this.$refs.editor);n.customConfig.uploadImgShowBase64=!0,n.customConfig.uploadImgHeaders=this.headers,n.customConfig.uploadFileName="file",n.customConfig.uploadImgServer=this.imagesUploadApi,n.customConfig.onchange=function(n){t.form.content=n},n.create()},methods:{removeDomain:function(t){var n=this.tos.indexOf(t);-1!==n&&1!==this.tos.length?this.tos.splice(n,1):this.$message({message:"请至少保留一位联系人",type:"warning"})},addDomain:function(){this.tos.push({value:"",key:Date.now()})},doSubmit:function(){var t=this,n=this;this.$refs.form.validate(function(e){if(t.form.tos=[],!e)return!1;var o=!1;if(t.tos.forEach(function(t,e){""===t.value?(n.$message({message:"收件邮箱不能为空",type:"warning"}),o=!0):Object(l.a)(t.value)?n.form.tos.push(t.value):(n.$message({message:"收件邮箱格式错误",type:"warning"}),o=!0)}),o)return!1;t.loading=!0,Object(s.b)(t.form).then(function(n){t.$notify({title:"发送成功",type:"success",duration:2500}),t.loading=!1}).catch(function(n){t.loading=!1,console.log(n.response.data.message)})})}}},m=(e("h298"),e("KHd+")),d=Object(m.a)(f,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("el-form",{ref:"form",staticStyle:{"margin-top":"6px"},attrs:{model:t.form,rules:t.rules,size:"small","label-width":"100px"}},[e("el-form-item",{attrs:{label:"邮件标题",prop:"subject"}},[e("el-input",{staticStyle:{width:"40%"},model:{value:t.form.subject,callback:function(n){t.$set(t.form,"subject",n)},expression:"form.subject"}})],1),t._v(" "),t._l(t.tos,function(n,o){return e("el-form-item",{key:n.key,attrs:{label:"收件邮箱"+(0===o?"":o)}},[e("el-input",{staticStyle:{width:"31%"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"domain.value"}}),t._v(" "),e("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.addDomain}}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"0px"},attrs:{icon:"el-icon-minus"},on:{click:function(e){e.preventDefault(),t.removeDomain(n)}}})],1)}),t._v(" "),e("div",{ref:"editor",staticClass:"editor"}),t._v(" "),e("el-button",{staticStyle:{"margin-left":"1.6%"},attrs:{loading:t.loading,size:"medium",type:"primary"},on:{click:t.doSubmit}},[t._v("发送邮件")])],2)],1)},[],!1,null,"cb03c2c0",null);d.options.__file="send.vue";n.default=d.exports},h298:function(t,n,e){"use strict";var o=e("neNb");e.n(o).a},leE3:function(t,n,e){"use strict";e.r(n);var o=e("LxGK"),a={name:"Config",data:function(){return{loading:!1,form:{id:1,fromUser:"",user:"",pass:"",host:"",port:"",sslEnable:""},rules:{fromUser:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],user:[{required:!0,message:"请输入发件用户名",trigger:"blur"}],pass:[{required:!0,message:"密码不能为空",trigger:"blur"}],host:[{required:!0,message:"SMTP地址不能为空",trigger:"blur"}],port:[{required:!0,message:"SMTP端口不能为空",trigger:"blur"}]}}},created:function(){this.init()},methods:{init:function(){var t=this;Object(o.a)().then(function(n){t.form=n})},doSubmit:function(){var t=this;this.$refs.form.validate(function(n){if(!n)return!1;t.loading=!0,Object(o.c)(t.form).then(function(n){t.$notify({title:"修改成功",type:"success",duration:2500}),t.loading=!1}).catch(function(n){t.loading=!1,console.log(n.response.data.message)})})}}},i=(e("xy53"),e("KHd+")),r=Object(i.a)(a,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("el-form",{ref:"form",staticStyle:{"margin-top":"6px"},attrs:{model:t.form,rules:t.rules,size:"small","label-width":"100px"}},[e("el-form-item",{attrs:{label:"发件人邮箱",prop:"fromUser"}},[e("el-input",{staticStyle:{width:"40%"},model:{value:t.form.fromUser,callback:function(n){t.$set(t.form,"fromUser",n)},expression:"form.fromUser"}}),t._v(" "),e("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("Sender mailbox")])],1),t._v(" "),e("el-form-item",{attrs:{label:"发件用户名",prop:"user"}},[e("el-input",{staticStyle:{width:"40%"},model:{value:t.form.user,callback:function(n){t.$set(t.form,"user",n)},expression:"form.user"}}),t._v(" "),e("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("Sender usernamex")])],1),t._v(" "),e("el-form-item",{attrs:{label:"邮箱密码",prop:"pass"}},[e("el-input",{staticStyle:{width:"40%"},attrs:{type:"password"},model:{value:t.form.pass,callback:function(n){t.$set(t.form,"pass",n)},expression:"form.pass"}}),t._v(" "),e("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("email Password")])],1),t._v(" "),e("el-form-item",{attrs:{label:"SMTP地址",prop:"host"}},[e("el-input",{staticStyle:{width:"40%"},model:{value:t.form.host,callback:function(n){t.$set(t.form,"host",n)},expression:"form.host"}}),t._v(" "),e("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("SMTP address")])],1),t._v(" "),e("el-form-item",{attrs:{label:"SMTP端口",prop:"port"}},[e("el-input",{staticStyle:{width:"40%"},model:{value:t.form.port,callback:function(n){t.$set(t.form,"port",n)},expression:"form.port"}}),t._v(" "),e("span",{staticStyle:{color:"#C0C0C0","margin-left":"10px"}},[t._v("SMTP port")])],1),t._v(" "),e("el-form-item",{attrs:{label:""}},[e("el-button",{attrs:{loading:t.loading,size:"medium",type:"primary"},on:{click:t.doSubmit}},[t._v("保存配置")])],1)],1)},[],!1,null,"dc16d5d2",null);r.options.__file="config.vue";n.default=r.exports},mA49:function(t,n,e){var o=e("IiO0");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e("SZ7m").default)("0865b508",o,!0,{})},neNb:function(t,n,e){var o=e("Vc39");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e("SZ7m").default)("921199d8",o,!0,{})},xy53:function(t,n,e){"use strict";var o=e("dKb8");e.n(o).a},zkOn:function(t,n,e){var o=e("UsiR");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e("SZ7m").default)("734a8ef2",o,!0,{})}}]);