(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-972d"],{"28YR":function(n,t,e){(n.exports=e("I1BE")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},C3tr:function(n,t,e){"use strict";var i=e("lOWl");e.n(i).a},MgkO:function(n,t,e){"use strict";e.r(t);var i=e("QbLZ"),a=e.n(i),o=e("vDqi"),r=e.n(o),s=e("L2JU"),c=e("X4fA"),d=e("NLix"),u={name:"Markdown",data:function(){return{height:document.documentElement.clientHeight-200+"px",data:null,images:{}}},computed:a()({},Object(s.b)(["imagesUploadApi"])),mounted:function(){this.$refs.md.$refs.toolbar_left.img_file=[];var n=this;window.onresize=function(){n.height=document.documentElement.clientHeight-200+"px"}},methods:{imgAdd:function(n,t){var e=this,i=new FormData;i.append("file",t),r()({url:this.imagesUploadApi,method:"post",data:i,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+Object(c.a)()}}).then(function(t){e.data=t.data,e.$refs.md.$img2Url(n,e.data.data[0]),e.images[e.data.data[0]]=e.data}).catch(function(t){console.log("image upload error",t),e.$refs.md.$refs.toolbar_left.$imgDel(n)})},imgDel:function(n,t){var e=this.images[n[1]];e&&Object(d.a)(e.id).then(function(n){}).catch(function(n){console.log(n.response.data.message)})}}},l=(e("C3tr"),e("KHd+")),m=Object(l.a)(u,function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"app-container"},[this._m(0),this._v(" "),t("mavon-editor",{ref:"md",style:"height:"+this.height,on:{imgAdd:this.imgAdd,imgDel:this.imgDel}})],1)},[function(){var n=this.$createElement,t=this._self._c||n;return t("p",{staticClass:"warn-content"},[this._v("\n    Markdown 基于\n    "),t("a",{attrs:{href:"https://github.com/hinesboy/mavonEditor",target:"_blank"}},[this._v("mavonEditor")])])}],!1,null,"667e5736",null);m.options.__file="MarkDown.vue";t.default=m.exports},NLix:function(n,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"b",function(){return o});var i=e("t3Un");function a(n){return Object(i.a)({url:"/vue/api/pictures/"+n,method:"delete"})}function o(n){return Object(i.a)({url:"/vue/api/pictures/",method:"delete",data:n})}},lOWl:function(n,t,e){var i=e("28YR");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);(0,e("SZ7m").default)("77c0a0f7",i,!0,{})}}]);